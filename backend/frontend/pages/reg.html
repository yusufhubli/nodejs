<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
        <div class="reg">
            <div class="form">
                <h2 class="reg-name">Register</h2>
                <label for="name">Name <br>
                    <input class="input" type="text" name="name" id="name">
                </label><br>
                <label for="email">Email <br>
                    <input class="input" type="email" name="email" id="email">
                </label><br>
                <label for="password">Password <br>
                    <input class="input" type="password" name="password" id="password">
                </label><br>
                <input class="reg-btn" type="button" onclick="handlesubmit()" value="Register">
            </div>
        </div>
</body>
<script>
     const login = JSON.parse(localStorage.getItem("loginId")) 
    async function handlesubmit(){
      
    let name = document.getElementById("name").value 
    let email = document.getElementById("email").value 
    let password = document.getElementById("password").value 
    let reg1 ={
        name:name,
        email:email,
        password:password
    }
    localStorage.setItem("reg",JSON.stringify(reg1))
    console.log(reg1)
    const res = await fetch("http://localhost:3005/register",{
        headers:{
            "content-type":"application/json",
            useUnifiedTopology:true,
            useNewUrlParser:true
        },
        method:"POST",
        body:JSON.stringify(reg1)
    })
  
    const data =await res.json()
    console.log(data)
    // console.log(data[0]._id)
    // localStorage.setItem("loginId",JSON.stringify(data[0]._id))
}
</script>
</html>